{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}
    {% endblock %}

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

     <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
     <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}">
     <link rel="stylesheet" href="{% static 'assets/css/image-fixes.css' %}">
    <style>
        /* =========================
   TOAST CONTAINER
========================= */
#django-toast-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;

    display: flex;
    flex-direction: column;
    gap: 10px;

    pointer-events: none;
}

/* =========================
   BASE TOAST
========================= */
.django-toast {
    min-width: 280px;
    max-width: 420px;
    padding: 14px 18px;
    border-radius: 8px;

    font-size: 14px;
    font-weight: 500;
    color: #000; /* BLACK TEXT */

    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    opacity: 0;
    transform: translateY(-10px);
    animation: toast-slide 0.35s ease forwards;

    pointer-events: auto;
}

/* =========================
   MESSAGE TYPES
========================= */
.django-toast.success {
    background-color: #d1fae5; /* green */
}

.django-toast.error {
    background-color: #fee2e2; /* red */
}

.django-toast.warning {
    background-color: #fef3c7; /* yellow */
}

.django-toast.info {
    background-color: #e0f2fe; /* blue */
}

/* =========================
   FIELD ERROR (STRICT RED)
========================= */
.django-toast.field-error {
    background-color: #dc2626; /* strong red */
    color: #000;
}

/* =========================
   ANIMATION
========================= */
@keyframes toast-slide {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

    </style>
</head>
<body class="bg-white text-gray-800">

    <div class="bg-gray-800 text-gray-300 text-xs py-2 px-4 text-center">
        FREE SHIPPING for online orders exceeding £50 ex VAT delivered within the UK - Minimum order value £20
    </div>


    <!-- Header -->
    <header class="sticky-header bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex flex-col lg:flex-row items-center justify-between">
            <!-- Logo -->
            <div class="flex-shrink-0 mb-4 lg:mb-0">
                <a href="{% url 'product:home' %}" class="flex items-center gap-2 text-aviation-blue hover:opacity-90 transition-opacity">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor" class="text-aviation-blue">
                        <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>
                    </svg>
                    <div class="flex flex-col leading-none">
                        <span class="text-2xl font-black italic tracking-tighter">AVIATION</span>
                        <span class="text-[0.6rem] tracking-widest text-gray-500 font-bold uppercase">Spares & Repairs</span>
                    </div>
                </a>
            </div>

            <!-- Desktop Navigation -->
            <nav class="hidden lg:flex items-center space-x-6 text-sm font-bold text-gray-700">
                <a href="{% url 'product:home' %}" class="hover:text-aviation-blue transition-colors text-aviation-blue">HOME</a>
                <a href="{% url 'product:products' %}" class="hover:text-aviation-blue transition-colors">PRODUCTS</a>
<!--                <a href="{% url 'accounts:register' %}" class="hover:text-aviation-blue transition-colors">A-Z LISTING</a>-->
                <a href="{% url 'product:capability' %}" class="hover:text-aviation-blue transition-colors">CAPABILITIES</a>
                <a href="{% url 'product:news' %}" class="hover:text-aviation-blue transition-colors">LATEST NEWS</a>
                <a href="{% url 'product:about' %}" class="hover:text-aviation-blue transition-colors">ABOUT US</a>
                <a href="{% url 'product:contact' %}" class="hover:text-aviation-blue transition-colors">CONTACT US</a>
                {% if not request.user.is_authenticated %}
                <a href="{% url 'accounts:login' %}" class="hover:text-aviation-blue transition-colors">LOGIN</a>
                {% else %}
                <a href="{% url 'accounts:logout' %}" class="hover:text-aviation-blue transition-colors">LOGOUT</a>
                {% endif %}
            </nav>

            <!-- Search & Cart -->
            <div class="flex items-center space-x-4">
                <div class="relative flex items-center">
                    <input
                        type="text"
                        placeholder="KEYWORD/PART NUMBER"
                        id="searchInput"
                        class="border border-gray-300 rounded-l px-3 py-1.5 text-xs w-48 focus:outline-none focus:border-aviation-blue"
                    >
                    <button
                        id="searchButton"
                        class="bg-gray-100 border border-l-0 border-gray-300 rounded-r px-2 py-1.5 hover:bg-gray-200"
                    >
                        <i class="fas fa-search text-gray-500"></i>
                    </button>

                    <!-- Search Results Dropdown -->
                    <div id="searchResults" class="hidden absolute top-full right-0 mt-2 w-64 bg-white border border-aviation-blue p-3 shadow-lg rounded z-50">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-xs font-bold text-aviation-blue uppercase">Search Results</span>
                        </div>
                        <div id="searchResultContent" class="text-xs text-gray-700 leading-relaxed">
                            <!-- Results will appear here -->
                        </div>
                    </div>
                </div>

                <a href="pages/navbar/checkout.html" id="cart-icon-container" class="relative cursor-pointer">
                    <i class="fas fa-shopping-cart text-gray-700 text-xl"></i>
                    <span id="cart-count" class="absolute -top-1 -right-2 bg-gray-800 text-white text-[0.6rem] font-bold px-1.5 rounded-full">0</span>
                </a>

                <!-- Mobile Menu Button -->
                <button id="mobileMenuButton" class="lg:hidden ml-4 text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobileMenu" class="mobile-menu lg:hidden bg-white border-t border-gray-100">
            <nav class="flex flex-col p-4 space-y-2">
                <a href="{% url 'product:home' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">HOME</a>
                <a href="{% url 'product:products' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">PRODUCTS</a>
<!--                <a href="pages/navbar/listing.html" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">A-Z LISTING</a>-->
                <a href="{% url 'product:capability' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">CAPABILITIES</a>
                <a href="{% url 'product:news' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">LATEST NEWS</a>
                <a href="{% url 'product:about' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">ABOUT US</a>
                <a href="{% url 'product:contact' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">CONTACT US</a>
                {% if not request.user.is_authenticated %}
                <a href="{% url 'accounts:login' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">LOGIN</a>
                {% else %}
                <a href="{% url 'accounts:logout' %}" class="block text-sm font-bold text-gray-700 hover:text-aviation-blue py-2">LOGOUT</a>
                {% endif %}
            </nav>
        </div>
    </header>
    <div id="main-header"></div>
    <script src="{% static 'assets/js/importer.js' %}"></script>

    <!-- Django Messages Toast -->
    {% if messages %}
    <div id="django-toast-container">
        {% for message in messages %}
            <div class="django-toast {{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}

  {% block content %}
  {% endblock %}

      <footer class="bg-gray-100 pt-12 pb-6 text-gray-700 text-sm font-sans border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">

                <div class="space-y-2">
                    <h4 class="font-bold text-gray-800 mb-4">Quick Links</h4>
                    <a href="{% url 'product:contact' %}" class="block hover:text-aviation-blue transition-colors">Contact Us</a>
                    <a href="{% url 'product:company' %}" class="block hover:text-aviation-blue transition-colors">Company</a>
                    <a href="{% url 'product:about' %}" class="block hover:text-aviation-blue transition-colors">About Us</a>
                    <a href="{% url 'product:quality' %}" class="block hover:text-aviation-blue transition-colors">Quality</a>
                    <a href="{% url 'product:news' %}" class="block hover:text-aviation-blue transition-colors">News</a>
                </div>

                <div class="space-y-2">
                    <h4 class="font-bold text-gray-800 mb-4">Policies</h4>
                    <a href="{% url 'product:privacy' %}" class="block hover:text-aviation-blue transition-colors">Privacy Policy</a>
                    <a href="{% url 'product:website' %}" class="block hover:text-aviation-blue transition-colors">Website Terms & Conditions</a>
                    <a href="{% url 'product:terms_sales' %}" class="block hover:text-aviation-blue transition-colors">Terms & Conditions Of Sales</a>
                    <a href="{% url 'product:purchase_terms' %}" class="block hover:text-aviation-blue transition-colors">Terms & Conditions Of Purchase</a>
                    <a href="{% url 'product:purchase_terms' %}" class="block hover:text-aviation-blue transition-colors">Anti-Bribery Policy</a>
                </div>

                <div class="space-y-2">
                    <h4 class="font-bold text-gray-800 mb-4">Environment & Safety</h4>
                    <a href="{% url 'product:environmental' %}" class="block hover:text-aviation-blue transition-colors">Environmental Policy</a>
                    <a href="{% url 'product:equal_opportunities' %}" class="block hover:text-aviation-blue transition-colors">Equal Opportunities Policy</a>
                    <a href="{% url 'product:health' %}" class="block hover:text-aviation-blue transition-colors">Health and Safety Policy</a>
                    <a href="{% url 'product:obsolescence' %}" class="block hover:text-aviation-blue transition-colors">Obsolescence Management Policy</a>
                    <a href="{% url 'product:risk_management' %}" class="block hover:text-aviation-blue transition-colors">Risk Management Policy</a>
                </div>

                <div class="text-xs text-gray-600 leading-relaxed">
                    <h4 class="font-bold text-gray-800 mb-4">Contact Information</h4>
                    <p class="mb-2">Unit 6 Westlink, Romsey, Hampshire, SO51 7AA.</p>

                    <p class="mb-2">
                        <a href="mailto:sales@aviationspares.com" class="text-aviation-blue hover:underline">sales@aviationspares.com</a>
                    </p>
                    <div class="mt-4">
                        <h5 class="font-bold text-gray-800 mb-2">Follow Us</h5>
                        <div class="flex space-x-3">
                            <a href="#" class="text-gray-500 hover:text-aviation-blue"><i class="fab fa-linkedin text-lg"></i></a>
                            <a href="#" class="text-gray-500 hover:text-aviation-blue"><i class="fab fa-twitter text-lg"></i></a>
                            <a href="#" class="text-gray-500 hover:text-aviation-blue"><i class="fab fa-facebook text-lg"></i></a>
                            <a href="#" class="text-gray-500 hover:text-aviation-blue"><i class="fab fa-youtube text-lg"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-16 pt-8 border-t border-gray-200 text-center text-xs text-gray-500 flex flex-col md:flex-row justify-between items-center">
                <span>© Aviation Spares & Repairs 2025</span>
                <div class="flex flex-wrap justify-center space-x-6 mt-4 md:mt-0">
                    <span>VAT No: 857 7031 07</span>
                    <span>Cage Code: KCV81</span>
                    <span>DUNS No: 345372606</span>
                    <span>Company Reg No: 05347543</span>
                </div>
            </div>
        </div>
    </footer>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const toasts = document.querySelectorAll(".django-toast");

        toasts.forEach(toast => {
            setTimeout(() => {
                toast.style.opacity = "0";
                toast.style.transform = "translateY(-10px)";
                setTimeout(() => toast.remove(), 300);
            }, 4000); // visible for 4s
        });
    });
    </script>
  <script src="{% static 'assets/js/fix-images.js' %}"></script>
  <script src="{% static 'assets/js/performance.js' %}"></script>
  <script src="{% static 'assets/js/global-fixes.js' %}"></script>
  <script src="{% static 'assets/js/aviation-products-data.js' %}"></script>
</body>
</html>